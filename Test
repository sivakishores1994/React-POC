// productHelper.test.ts
import { getProduct } from './productHelper';
import { ProductInfoResponse } from './models';

test('should return the product when conditions are met', () => {
  const products = "Electronics";

  const productInfoResponse: ProductInfoResponse = {
    campaign: "Holiday2024",
    name: "Laptop",
    product_category: "Electronics",
    product_category_name: "Electronics",
    product_sequence_number: 1,
    product_type: "Tech",
    product_description: "A high-end laptop",
  };

  const result = getProduct(products, productInfoResponse);

  expect(result).toBe("Electronics");
});

test('should return "Product not found" when conditions are not met', () => {
  const products = "Electronics";

  const productInfoResponse: ProductInfoResponse = {
    campaign: "Holiday2024",
    name: "Laptop",
    product_category: "Electronics",
    product_category_name: "HomeAppliances", // Does not match `products`
    product_sequence_number: 1,
    product_type: "Tech",
    product_description: "A high-end laptop",
  };

  const result = getProduct(products, productInfoResponse);

  expect(result).toBe("Product not found");
});
