export const getProductMetaData = (product_type:string | null): any => {
  const url = `${process.env.REACT_APP_PRODUCT_INFO_URL}`;
  return async (dispatch: AppDispatch) => {
    return axios
      .get(url)
      .then(async (response) => {
        let productInfoResponse = response.data.products;
        let products = product_type ? product_type : getUrl.getParameterByName("products");

        if (products) {
          dispatch(getProductInfo(products, productInfoResponse));
          return Promise.resolve();
        } else {
          const error = {
            response: {
              status: "error",
              statusText: "no response",
            },
          };
          dispatch(dispatchError(error));
          return Promise.reject();
        }
      })
      .catch((error: AxiosError) => {
        dispatch(dispatchError(error));
      });
  };
};
