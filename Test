export const initiateRTOBJourney = (): any => {
  return async (dispatch: AppDispatch) => {
    const flowType = authenticateType() 
    if (flowType === "myinfo") {
      console.log(flowType)
      await dispatch(authorize(flowType)).then(async (token: any) => {
       if (sessionStorage.getItem("token")) {
          sessionStorage.removeItem("token");
        }
        localStorage.setItem(
          "chRefNo",
          JSON.stringify(token["channelRefNo"])
        );
        if (!sessionStorage.getItem("token")) {
          dispatch(dispatchAuth(true));
          sessionStorage.setItem(
            "token",
            JSON.stringify(token["channelRefNo"])
          );
          dispatch(dispatchLoader(false));
        } else {
          dispatch(dispatchAuth(false));
        }
      });
    } else {
      return dispatch(formConfig("manual"))
        .then((response: any) => {
          return Promise.resolve(response);
        })
        .catch((error: AxiosError) => {
          dispatch(dispatchError(error));
        });
    }
  };
};
