import { render, screen, fireEvent } from '@testing-library/react';
import { Provider } from 'react-redux';
import configureStore from 'redux-mock-store';
import SelectionBox from './SelectionBox';

const mockStore = configureStore([]);

const defaultProps = {
  data: {
    logical_field_name: 'test_field',
    rwb_label_name: 'Test Field',
    editable: false,
  },
  handleCallback: jest.fn(),
};

describe('SelectionBox Component', () => {
  let store;

  beforeEach(() => {
    store = mockStore({
      lov: { lov: [] },
      fielderror: { error: [] },
      stages: {
        stages: [{ stageInfo: { products: [{ product_type: '153' }], applicants: {} } }],
        userInput: { applicants: {} },
        myinfoResponse: [],
        dependencyFields: [],
      },
    });
  });

  it('renders the component correctly', () => {
    render(
      <Provider store={store}>
        <SelectionBox {...defaultProps} />
      </Provider>
    );

    expect(screen.getByText('Test Field')).toBeInTheDocument();
    expect(screen.getByPlaceholderText('Select the purpose of the account')).toBeInTheDocument();
  });
});
