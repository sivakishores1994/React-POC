export const resumeRequest = (appRef : string | null): any => {
  const baseUrl = `${process.env.REACT_APP_RTOB_BASE_URL}`;
  const endPoint = appRef + `${process.env.REACT_APP_RTOB_RESUME_END_POINT}`;
  const url = `${
    baseUrl +
    process.env.REACT_APP_RTOB_APPLICATION_END_POINT +
    endPoint
  }`;
 
  return async (dispatch: AppDispatch) => {
    return dispatch(exceptionCheck(await axios.get(url)))
      .then((response: any) => {
        if(response !== "Rejected"){
        if (response.data && response.data.applicants && response.data.application) {  
          dispatch(urlParamAction.getAuthorize({ channelRefNo: response.data.application.channel_reference }));  
          return Promise.resolve(response.data);
        } else {
          defaultError();
        }
      }
      })
      .catch((err: any) => {
        if(err !== "Rejected"){return Promise.reject(err)}else{dispatch(dispatchLoader(false));}
      });
  };
};
